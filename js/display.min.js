const e=document.getElementById("startButton");document.getElementById("localVideo");let t=null;function n(){var e=document.getElementById("widthInput").value,t=document.getElementById("heightInput").value,n=document.getElementById("distanceInput").value,o=document.getElementById("changeable-element");o.style.width=e+"px",o.style.height=t+"px";var d=e/100,c=t/100,r=n/100*2;document.getElementById("widthProgress").style.width=d+"%",document.getElementById("heightProgress").style.width=c+"%",connection.send(d+","+c+","+r)}t=new Peer,t.on("open",(e=>{console.log("Sender PeerID:",e);const t=document.getElementById("qrcode"),n=document.getElementById("qrcodeV"),o="https://aze2201.github.io/screen-2-ar/pages/screen_frame.html?PeerDesktopID="+e,d="https://aze2201.github.io/screen-2-ar/pages/viar_dev.html?PeerDesktopID="+e,c=document.createElement("a");c.href=`https://aze2201.github.io/screen-2-ar/pages/viar_dev.html?PeerDesktopID=${e}`;const r=document.getElementById("myCenter");if(c.textContent="Link",r.appendChild(c),o){t.innerHTML="",n.innerHTML="";new QRCode(t,{text:o,width:256,height:256}),new QRCode(n,{text:d,width:256,height:256});t.style.display="block",n.style.display="block"}})),t.on("connection",(e=>{connection=e,connection.on("data",(e=>{console.log(e)}))})),e.addEventListener("click",(async()=>{try{const n=await navigator.mediaDevices.getDisplayMedia({video:!0});t.on("call",(e=>{e.answer(n)})),t.on("error",(e=>{console.error("PeerJS error:",e)})),e.disabled=!0}catch(e){console.error("Error starting screen sharing:",e)}}));document.getElementById("widthInput").addEventListener("input",(()=>{n()}));document.getElementById("heightInput").addEventListener("input",(()=>{n()}));document.getElementById("distanceInput").addEventListener("input",(()=>{n()})),n();
